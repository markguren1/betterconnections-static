<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BetterConnections Personality Quiz</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    body { font-family: Arial, sans-serif; max-width: 900px; margin: auto; padding: 20px; }
    h1 { margin-bottom: 10px; }
    .question { border: 1px solid #ddd; border-radius: 8px; padding: 16px; margin-bottom: 16px; }
    .option { display: block; margin: 8px 0; cursor: pointer; }
    button { padding: 12px 18px; font-size: 16px; cursor: pointer; }
    .hidden { display: none; }
    .results { border: 1px solid #ccc; padding: 20px; border-radius: 8px; margin-top: 20px; }
    pre { background: #f5f5f5; padding: 10px; border-radius: 6px; }
  </style>
</head>

<body>

<h1>Personality Quiz</h1>
<p><strong>Step 1 (required):</strong> Take the quiz first. Results power the rest of the demo.</p>

<form id="quizForm">

  <!-- QUESTION TEMPLATE -->
  <div class="question">
    <p><strong>1. In a group, you usually:</strong></p>
    <label class="option"><input type="radio" name="q1" value="Driver"> Take charge and move things forward</label>
    <label class="option"><input type="radio" name="q1" value="Amiable"> Make sure everyone feels included</label>
    <label class="option"><input type="radio" name="q1" value="Expressive"> Bring energy and ideas</label>
    <label class="option"><input type="radio" name="q1" value="Analytical"> Think things through carefully</label>
  </div>

  <div class="question">
    <p><strong>2. When there is conflict, you tend to:</strong></p>
    <label class="option"><input type="radio" name="q2" value="Driver"> Address it directly</label>
    <label class="option"><input type="radio" name="q2" value="Amiable"> Try to keep harmony</label>
    <label class="option"><input type="radio" name="q2" value="Expressive"> Talk it out openly</label>
    <label class="option"><input type="radio" name="q2" value="Analytical"> Analyze what caused it</label>
  </div>

  <div class="question">
    <p><strong>3. You are most comfortable when:</strong></p>
    <label class="option"><input type="radio" name="q3" value="Driver"> Goals are clear and moving fast</label>
    <label class="option"><input type="radio" name="q3" value="Amiable"> People are cooperative</label>
    <label class="option"><input type="radio" name="q3" value="Expressive"> Things are upbeat and social</label>
    <label class="option"><input type="radio" name="q3" value="Analytical"> Plans and details make sense</label>
  </div>

  <div class="question">
    <p><strong>4. When deciding, you usually:</strong></p>
    <label class="option"><input type="radio" name="q4" value="Driver"> Decide quickly</label>
    <label class="option"><input type="radio" name="q4" value="Amiable"> Consider people first</label>
    <label class="option"><input type="radio" name="q4" value="Expressive"> Go with what feels exciting</label>
    <label class="option"><input type="radio" name="q4" value="Analytical"> Weigh evidence carefully</label>
  </div>

  <button type="button" onclick="calculateResult()">View Results</button>
</form>

<div id="results" class="results hidden">
  <h2>Your Personality Type: <span id="resultType"></span></h2>
  <h3>Score Breakdown</h3>
  <pre id="scoreOutput"></pre>
  <button onclick="retakeQuiz()">Retake Quiz</button>
</div>

<script>
  function calculateResult() {
    const types = ["Driver", "Amiable", "Expressive", "Analytical"];
    const scores = { Driver: 0, Amiable: 0, Expressive: 0, Analytical: 0 };

    for (let i = 1; i <= 4; i++) {
      const selected = document.querySelector(`input[name="q${i}"]:checked`);
      if (!selected) {
        alert("Please answer all questions.");
        return;
      }
      scores[selected.value]++;
    }

    let topType = types[0];
    let topScore = scores[topType];

    for (const type of types) {
      if (scores[type] > topScore) {
        topScore = scores[type];
        topType = type;
      }
    }

    document.getElementById("resultType").textContent = topType;
    document.getElementById("scoreOutput").textContent = JSON.stringify(scores, null, 2);
    document.getElementById("results").classList.remove("hidden");
    window.scrollTo(0, 0);
  }

  function retakeQuiz() {
    document.getElementById("quizForm").reset();
    document.getElementById("results").classList.add("hidden");
  }
</script>

</body>
</html>
