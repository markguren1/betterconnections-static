<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>NextGen Assistant – Test Drive</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #e9d5ff 0%, #faf5ff 100%);
      padding: 20px;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background: #ffffff;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
      overflow: hidden;
    }
    header {
      background: linear-gradient(135deg, #7a5cff, #8b5cf6);
      color: white;
      padding: 30px;
      text-align: center;
    }
    h1 { margin-bottom: 10px; }
    .section { padding: 25px 30px; }
    .note {
      background: #f9f9ff;
      border-left: 5px solid #8b5cf6;
      padding: 14px 16px;
      border-radius: 10px;
      margin: 0 0 14px;
      line-height: 1.35;
    }
    label { font-weight: 600; display: block; margin-top: 18px; margin-bottom: 8px; }
    select, textarea, button {
      width: 100%;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 15px;
      box-sizing: border-box;
    }
    textarea { min-height: 90px; resize: vertical; }
    button {
      margin-top: 18px;
      background: linear-gradient(135deg, #7a5cff, #8b5cf6);
      color: white;
      border: none;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
    }
    button:hover { opacity: 0.95; }
    .secondary-btn {
      background: #ffffff;
      color: #5a47c9;
      border: 1px solid #d8ccff;
      font-weight: 700;
      margin-top: 10px;
    }
    .email-output {
      margin-top: 18px;
      white-space: pre-wrap;
      background: #f9f9ff;
      border-left: 5px solid #8b5cf6;
      padding: 18px;
      border-radius: 10px;
      display: none;
    }
    footer { text-align: center; padding: 15px; font-size: 13px; color: #666; }
  </style>
</head>

<body>
<div class="container">
  <header>
    <h1>NextGen Assistant</h1>
    <p>Test Drive (demo mode)</p>
  </header>

  <div class="section">
    <div class="note">
      <strong>Take a Test Drive</strong><br/>
      Set aside <strong>15–20 uninterrupted minutes</strong> to fully experience BetterConnections.
    </div>

    <label for="parentType">Parent Personality Style</label>
    <select id="parentType">
      <option value="Balanced">Balanced (Default – use when unsure)</option>
      <option value="Driver">Driver</option>
      <option value="Amiable">Amiable</option>
      <option value="Expressive">Expressive</option>
      <option value="Analytical">Analytical</option>
    </select>

    <label for="parentEmail">Parent’s Email to You</label>
    <textarea id="parentEmail">Why are you punishing Johnny for something he claims he didn't do?</textarea>

    <label for="situationContext">Your Situation Context</label>
    <textarea id="situationContext">I personally observed Johnny hit another student during class.</textarea>

    <button type="button" onclick="generateEmail()">Generate Response</button>
    <button type="button" class="secondary-btn" onclick="copyEmail()">Copy Email</button>

    <div id="emailOutput" class="email-output"></div>
  </div>

  <footer>© 2025 BetterConnections. All rights reserved.</footer>
</div>

<script>
  function openingFor(styleLower) {
    if (styleLower.includes("driver")) return "Thank you for your email. I want to address your concern clearly and directly.";
    if (styleLower.includes("amiable")) return "Thank you for reaching out. I understand how upsetting this situation feels.";
    if (styleLower.includes("expressive")) return "I appreciate you reaching out and sharing your concerns.";
    if (styleLower.includes("analytical")) return "Thank you for your message. I’d like to clearly outline what I observed and the steps taken.";
    return "Thank you for reaching out. I appreciate the opportunity to clarify what occurred.";
  }

  function generateEmail() {
    const style = (document.getElementById("parentType").value || "Balanced").toLowerCase();
    const parentMsg = (document.getElementById("parentEmail").value || "").trim();
    const context = (document.getElementById("situationContext").value || "").trim();
    const output = document.getElementById("emailOutput");

    const opening = openingFor(style);

    const email = `
Subject: Re: Classroom Concern

${opening}

I understand your concern:
"${parentMsg || "…"}"

Here is what I observed in class:
- ${context || "A situation occurred that required immediate intervention."}

My goal is always student safety, fairness, and helping students learn from mistakes—not punishment. I will also speak with your child to hear their perspective and review any additional information.

Please let me know if you’d like to discuss this further. I value working together to support your child.

Sincerely,
[Teacher Name]
`.trim();

    output.style.display = "block";
    output.textContent = email;
  }

  function copyEmail() {
    const out = document.getElementById("emailOutput");
    const text = (out && out.textContent) ? out.textContent : "";
    if (!text) { alert("Generate an email first, then click Copy Email."); return; }

    navigator.clipboard.writeText(text).then(
      () => alert("Copied to clipboard."),
      () => alert("Could not copy automatically. You can select the text and copy manually.")
    );
  }
</script>

</body>
</html>
